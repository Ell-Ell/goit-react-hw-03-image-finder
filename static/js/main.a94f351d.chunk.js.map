{"version":3,"sources":["components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/Button/Button.js","services/api-service.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Container","children","className","с","App","Searchbar","state","text","webformatURL","largeImageURL","id","hendleChange","e","setState","currentTarget","value","toLowerCase","hendleSubmit","preventDefault","trim","props","onSubmit","reset","alert","s","SearchForm","this","type","button","lable","onChange","input","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","user","openModal","ii","src","alt","image","onClick","ImageGallery","images","i","map","Spiner","color","height","width","timeout","Modal","handleKeyDown","code","onClose","handleKeyClick","target","window","addEventListener","removeEventListener","m","Overlay","Button","imagesAPI","fetchImages","page","per_page","API_KEY","fetch","then","response","ok","json","Status","loading","error","status","showModal","handleFormSubmit","dataset","source","toggleModal","btnFetch","prevState","prevProps","prevName","nextName","prevPage","nextPage","hits","scrollTo","top","document","body","scrollHeight","behavior","total","Promise","reject","Error","catch","resolvedImg","length","message","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a94f351d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2reBt\",\"Modal\":\"Modal_Modal__2wxRT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"Container_App__1ktml\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3ixqg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2fXdf\"};","import с from './Container.module.css';\n\nfunction Container({ children }) {\n  return <div className={с.App}>{children}</div>;\n}\nexport default Container;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    text: '',\n    webformatURL: '',\n    largeImageURL: '',\n    id: '',\n  };\n\n  hendleChange = e => {\n    this.setState({ text: e.currentTarget.value.toLowerCase() });\n  };\n\n  hendleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.text.trim() === '') {\n      alert('Введите имя картинки');\n      return;\n    }\n    this.props.onSubmit(this.state.text);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ text: '' });\n  };\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.hendleSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.lable}></span>\n          </button>\n          <input\n            value={this.state.text}\n            onChange={this.hendleChange}\n            className={s.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ii from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ webformatURL, user, openModal, largeImageURL }) {\n  return (\n    <li className={ii.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={user}\n        data-source={largeImageURL}\n        className={ii.image}\n        onClick={openModal}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  user: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport i from './ImageGallery.module.css';\n\nfunction ImageGallery({ images, openModal }) {\n  return (\n    <ul className={i.ImageGallery}>\n      {images.map(({ webformatURL, id, user, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          user={user}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          openModal={openModal}\n        />\n      ))}\n    </ul>\n  );\n}\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      user: PropTypes.string.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class Spiner extends Component {\n  render() {\n    return (\n      <Loader\n        type=\"Watch\"\n        color=\"#00BFFF\"\n        height={200}\n        width={200}\n        timeout={3000}\n      />\n    );\n  }\n}\n// export default Loader;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport m from '../Modal/Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  };\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n  handleKeyClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return (\n      <div className={m.Overlay} onClick={this.handleKeyClick}>\n        <div className={m.Modal}>\n          <img src={this.props.largeImageURL} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","function fetchImages(\n  text,\n  page,\n  per_page = 12,\n  API_KEY = '22940348-1b20cc5115637f53696a8a841',\n) {\n  return fetch(\n    `https://pixabay.com/api/?q=${text}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\n  ).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  });\n}\n\nconst imagesAPI = { fetchImages };\n\nexport default imagesAPI;\n","import React, { Component } from 'react';\nimport Container from './components/Container/Container';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Spiner from './components/Loader/Loader';\nimport Modal from './components/Modal/Modal';\nimport Button from './components/Button/Button';\nimport imagesAPI from './services/api-service';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nclass App extends Component {\n  state = {\n    text: '',\n    page: 1,\n    images: [],\n    loading: false,\n    error: null,\n    status: Status.IDLE,\n    showModal: false,\n    largeImageURL: '',\n    webformatURL: '',\n    id: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevState.text;\n    const nextName = this.state.text;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevName !== nextName) {\n      this.setState({ images: [], page: 1, status: Status.PENDING });\n    }\n    if (prevName !== nextName || prevPage !== nextPage) {\n      this.fetchImages(nextName, nextPage);\n    }\n  }\n\n  fetchImages(nextName, nextPage) {\n    imagesAPI\n      .fetchImages(nextName, nextPage)\n      .then(images => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images.hits],\n          status: Status.RESOLVED,\n        }));\n        if (nextPage !== 1) {\n          window.scrollTo({\n            top: document.body.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n        if (images.total === 0) {\n          return Promise.reject(new Error('WRONG!Try again;)'));\n        }\n      })\n      .catch(error => this.setState({ error, status: Status.REJECTED }));\n  }\n\n  handleFormSubmit = text => {\n    this.setState({ text, page: 1 });\n  };\n  openModal = e => {\n    this.setState({ largeImageURL: e.target.dataset.source });\n    this.toggleModal();\n  };\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  btnFetch = () => {\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { images, error, status, showModal, largeImageURL } = this.state;\n    const resolvedImg = status === Status.RESOLVED && images.length > 11;\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {status === Status.IDLE && <h2>Введите запрос на поиск</h2>}\n        {status === Status.REJECTED && <h1>{error.message}</h1>}\n        {resolvedImg && (\n          <ImageGallery images={images} openModal={this.openModal} />\n        )}\n        {status === Status.PENDING && <Spiner />}\n        {images.length !== 0 && <Button onClick={this.btnFetch} />}\n        {showModal && (\n          <Modal onClose={this.toggleModal} largeImageURL={largeImageURL} />\n        )}\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2FpDx\",\"SearchForm\":\"Searchbar_SearchForm__1O91N\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3VPZu\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__23CCJ\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2W0TW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2E3Fw\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3ZJkz\"};"],"sourceRoot":""}